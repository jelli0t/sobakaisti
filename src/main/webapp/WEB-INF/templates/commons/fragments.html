<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head><meta charset="UTF-8"></head>


	<!-- dashboard authors -->
	<th:block th:fragment="author" th:unless="${author != null}" >
		<article  th:with="author=${author}" class="author-box" th:id="'item-'+${author.id}">
		<div class="author-settings" th:with="id=${author.id}">
			<span class="dropdown-icon">&#xe689;</span>
			<ul class="dropdown-menu">
				<li class="dropdown-item"><a th:href="@{/sbk-admin/sobakaisti/edit/{id}(id=${id})}" class="edit-item item-link" th:alt="${author.id}" th:text="#{menu.item.edit}">Edit</a></li>
				<li class="dropdown-item"><a th:href="@{/sbk-admin/sobakaisti/delete/{id}(id=${id})}" class="delete-item item-link" th:alt="${author.id}" th:text="#{menu.item.delete}">Delete</a></li>
			</ul>
		</div>
			<div class="author-cover"></div>
			<div class="author-avatar"></div>
			<div class="author-content">
				<div class="author-basic-info author-name"><span th:text="${author.firstName}"></span> 
				<span th:text="${author.lastName}"></span></div>
				<div class="author-basic-info author-profession" th:text="${author.profession}">~</div>
			</div>
			<div class="author-meta-info">
				<span th:text="${author.birthplace}" class="icon birthplace-icon"></span>
				<span th:text="${#dates.format(author.dob, 'dd.MM.yyyy.')}" class="icon dob-icon"></span>
				<span class="icon website-icon"><a th:href="@{'http://'+${author.website}}" th:text="${author.website}" target="_blank"></a> </span>
				<span th:text="${author.email}" class="icon mail-icon"></span>
			</div>
		</article>
	</th:block>
	
	
	<!-- Intro backgrount text animated -->
	<th:block th:fragment="introBackground" >
	
		<li th:each="line, item : ${backgroundLines}" th:class="${item.odd}? 'ltr' : 'rtl'" th:text="${line}"></li>
	
	</th:block>
	
	
	<!-- ------------------------- 
		Media upload fragment 
	--------------------------- -->
	<th:block th:fragment="mediaUploadFragment">
		<!-- Input file button -->
		<div class="media-upload-container">
			<form th:action="@{/sbk-admin/media/upload}" id="media-upload-form">		
				<h4>Odaberite datoteku sa vašeg računara</h4>
				
				<div class="input-file-container">  
				    <input class="input-file" id="my-file" type="file" name="media">
				    <label tabindex="0" for="my-file" class="input-file-trigger bttn bttn-default">
				    	<img alt="" th:src="@{/resources/img/icons/svg/cloud-upload.svg}" height="16">Odaberi datoteku...
				    </label>
				</div>
					
				<!-- validation error message -->
				<div class="validation-error"></div>
				
				<span>Najveća dozvoljena veličina datoteke za otpremanje: 30 MB.</span>				
			</form>
		</div>
		
		
		<div class="media-edit-container">
			<form th:action="@{/sbk-admin/media/edit}" id="media-edit-form">
				<div class="media-upload-preview">					
				</div>					
			</form>
		</div>	
	</th:block>
	
	
	<th:block th:fragment="mediaUploadedPreview" th:with="media=${media}">
		<!-- media upload result message -->
		<p th:if="${media.uploadResultMessage != null}" class="response-message"
			th:classappend="${media.posted} ? affirmative-message : negative-message"
			th:text="${media.uploadResultMessage}"></p>
			
		<!-- Uploaded media details -->
		<div class="media-preview-table" th:if="${media.posted}" >
			<!-- media preview header -->
			<div class="media-preview-header">
				<div class="media-preview-image">
					<img alt="uploads" th:src="@{/uploads/{filename}(filename=${media.fileName})}" width="260">
				</div>				
				<div class="media-preview-details">
					<strong>Naziv datoteke: </strong><span th:text="${media.fileName}"></span><br>
					<strong>Tip datoteke: </strong><span th:text="${media.contentType}"></span><br>
					<strong>Otpremljeno: </strong><span th:text="${#dates.format(media.postDate, 'dd. MMM yyyy. HH:mm')}"></span><br>
					<strong>Velicina datoteke: </strong><span th:text="${media.size}"></span> KB
				</div>
			</div>
			
			<div class="media-preview-editable">
				<input type="hidden" name="id" th:value="${media.id}">
				<label>
					<span>Naslov</span>
					<input type="text" name="title" th:value="${media.title}">
				</label>
								
				<label>
					<span>Autor</span>
					<select></select>
				</label>

				<label>
					<span>Opis</span>
					<textarea rows="3" cols="20" name="descriprion" th:value="${media.descriprion}"></textarea>
				</label>
				
				<div>
					<button type="button" class="bttn bttn-sm" 
							th:src="@{/sbk-admin/media/{id}/remove/(id=${media.id})}">
						Ukloni trajno
					</button>
					
					<button type="button" class="bttn bttn-sm"
							th:src="@{/sbk-admin/media/{id}/update/(id=${media.id})}">
							Sačuvaj izmene</button>
				</div>
			</div>
		</div>
	</th:block>
	
	
	<!-- Intro backgrount text animated -->
	<th:block th:fragment="mediaLibraryFragment">
		<div>
		
		</div>
	</th:block>
	
</html>